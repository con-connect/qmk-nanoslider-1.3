   1               		.file	"mousekey.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               		.section	.text.move_unit,"ax",@progbits
  12               	move_unit:
  13               	.LFB2:
  14               		.file 1 "tmk_core/common/mousekey.c"
   1:tmk_core/common/mousekey.c **** /*
   2:tmk_core/common/mousekey.c **** Copyright 2011 Jun Wako <wakojun@gmail.com>
   3:tmk_core/common/mousekey.c **** 
   4:tmk_core/common/mousekey.c **** This program is free software: you can redistribute it and/or modify
   5:tmk_core/common/mousekey.c **** it under the terms of the GNU General Public License as published by
   6:tmk_core/common/mousekey.c **** the Free Software Foundation, either version 2 of the License, or
   7:tmk_core/common/mousekey.c **** (at your option) any later version.
   8:tmk_core/common/mousekey.c **** 
   9:tmk_core/common/mousekey.c **** This program is distributed in the hope that it will be useful,
  10:tmk_core/common/mousekey.c **** but WITHOUT ANY WARRANTY; without even the implied warranty of
  11:tmk_core/common/mousekey.c **** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  12:tmk_core/common/mousekey.c **** GNU General Public License for more details.
  13:tmk_core/common/mousekey.c **** 
  14:tmk_core/common/mousekey.c **** You should have received a copy of the GNU General Public License
  15:tmk_core/common/mousekey.c **** along with this program.  If not, see <http://www.gnu.org/licenses/>.
  16:tmk_core/common/mousekey.c **** */
  17:tmk_core/common/mousekey.c **** 
  18:tmk_core/common/mousekey.c **** #include <stdint.h>
  19:tmk_core/common/mousekey.c **** #include "keycode.h"
  20:tmk_core/common/mousekey.c **** #include "host.h"
  21:tmk_core/common/mousekey.c **** #include "timer.h"
  22:tmk_core/common/mousekey.c **** #include "print.h"
  23:tmk_core/common/mousekey.c **** #include "debug.h"
  24:tmk_core/common/mousekey.c **** #include "mousekey.h"
  25:tmk_core/common/mousekey.c **** 
  26:tmk_core/common/mousekey.c **** inline int8_t times_inv_sqrt2(int8_t x) {
  27:tmk_core/common/mousekey.c ****   // 181/256 is pretty close to 1/sqrt(2)
  28:tmk_core/common/mousekey.c ****   // 0.70703125                 0.707106781
  29:tmk_core/common/mousekey.c ****   // 1 too small for x=99 and x=198
  30:tmk_core/common/mousekey.c ****   // This ends up being a mult and discard lower 8 bits
  31:tmk_core/common/mousekey.c ****   return (x * 181) >> 8;
  32:tmk_core/common/mousekey.c **** }
  33:tmk_core/common/mousekey.c **** 
  34:tmk_core/common/mousekey.c **** static report_mouse_t mouse_report = {0};
  35:tmk_core/common/mousekey.c **** static void mousekey_debug(void);
  36:tmk_core/common/mousekey.c **** static uint8_t mousekey_accel = 0;
  37:tmk_core/common/mousekey.c **** static uint8_t mousekey_repeat =  0;
  38:tmk_core/common/mousekey.c **** static uint16_t last_timer = 0;
  39:tmk_core/common/mousekey.c **** 
  40:tmk_core/common/mousekey.c **** 
  41:tmk_core/common/mousekey.c **** 
  42:tmk_core/common/mousekey.c **** #ifndef MK_3_SPEED
  43:tmk_core/common/mousekey.c **** 
  44:tmk_core/common/mousekey.c **** 
  45:tmk_core/common/mousekey.c **** 
  46:tmk_core/common/mousekey.c **** /*
  47:tmk_core/common/mousekey.c ****  * Mouse keys  acceleration algorithm
  48:tmk_core/common/mousekey.c ****  *  http://en.wikipedia.org/wiki/Mouse_keys
  49:tmk_core/common/mousekey.c ****  *
  50:tmk_core/common/mousekey.c ****  *  speed = delta * max_speed * (repeat / time_to_max)**((1000+curve)/1000)
  51:tmk_core/common/mousekey.c ****  */
  52:tmk_core/common/mousekey.c **** /* milliseconds between the initial key press and first repeated motion event (0-2550) */
  53:tmk_core/common/mousekey.c **** uint8_t mk_delay = MOUSEKEY_DELAY/10;
  54:tmk_core/common/mousekey.c **** /* milliseconds between repeated motion events (0-255) */
  55:tmk_core/common/mousekey.c **** uint8_t mk_interval = MOUSEKEY_INTERVAL;
  56:tmk_core/common/mousekey.c **** /* steady speed (in action_delta units) applied each event (0-255) */
  57:tmk_core/common/mousekey.c **** uint8_t mk_max_speed = MOUSEKEY_MAX_SPEED;
  58:tmk_core/common/mousekey.c **** /* number of events (count) accelerating to steady speed (0-255) */
  59:tmk_core/common/mousekey.c **** uint8_t mk_time_to_max = MOUSEKEY_TIME_TO_MAX;
  60:tmk_core/common/mousekey.c **** /* ramp used to reach maximum pointer speed (NOT SUPPORTED) */
  61:tmk_core/common/mousekey.c **** //int8_t mk_curve = 0;
  62:tmk_core/common/mousekey.c **** /* wheel params */
  63:tmk_core/common/mousekey.c **** uint8_t mk_wheel_max_speed = MOUSEKEY_WHEEL_MAX_SPEED;
  64:tmk_core/common/mousekey.c **** uint8_t mk_wheel_time_to_max = MOUSEKEY_WHEEL_TIME_TO_MAX;
  65:tmk_core/common/mousekey.c **** 
  66:tmk_core/common/mousekey.c **** static uint8_t move_unit(void) {
  15               		.loc 1 66 0
  16               		.cfi_startproc
  17               	/* prologue: function */
  18               	/* frame size = 0 */
  19               	/* stack size = 0 */
  20               	.L__stack_usage = 0
  67:tmk_core/common/mousekey.c ****   uint16_t unit;
  68:tmk_core/common/mousekey.c ****   if (mousekey_accel & (1<<0)) {
  21               		.loc 1 68 0
  22 0000 8091 0000 		lds r24,mousekey_accel
  23 0004 80FF      		sbrs r24,0
  24 0006 00C0      		rjmp .L2
  69:tmk_core/common/mousekey.c ****     unit = (MOUSEKEY_MOVE_DELTA * mk_max_speed)/4;
  25               		.loc 1 69 0
  26 0008 6091 0000 		lds r22,mk_max_speed
  27 000c 85E0      		ldi r24,lo8(5)
  28 000e 689F      		mul r22,r24
  29 0010 B001      		movw r22,r0
  30 0012 1124      		clr __zero_reg__
  31 0014 7595      		asr r23
  32 0016 6795      		ror r22
  33 0018 7595      		asr r23
  34 001a 6795      		ror r22
  35               	.LVL0:
  36               	.L3:
  70:tmk_core/common/mousekey.c ****   } else if (mousekey_accel & (1<<1)) {
  71:tmk_core/common/mousekey.c ****     unit = (MOUSEKEY_MOVE_DELTA * mk_max_speed)/2;
  72:tmk_core/common/mousekey.c ****   } else if (mousekey_accel & (1<<2)) {
  73:tmk_core/common/mousekey.c ****     unit = (MOUSEKEY_MOVE_DELTA * mk_max_speed);
  74:tmk_core/common/mousekey.c ****   } else if (mousekey_repeat == 0) {
  75:tmk_core/common/mousekey.c ****     unit = MOUSEKEY_MOVE_DELTA;
  76:tmk_core/common/mousekey.c ****   } else if (mousekey_repeat >= mk_time_to_max) {
  77:tmk_core/common/mousekey.c ****     unit = MOUSEKEY_MOVE_DELTA * mk_max_speed;
  78:tmk_core/common/mousekey.c ****   } else {
  79:tmk_core/common/mousekey.c ****     unit = (MOUSEKEY_MOVE_DELTA * mk_max_speed * mousekey_repeat) / mk_time_to_max;
  80:tmk_core/common/mousekey.c ****   }
  81:tmk_core/common/mousekey.c ****   return (unit > MOUSEKEY_MOVE_MAX ? MOUSEKEY_MOVE_MAX : (unit == 0 ? 1 : unit));
  37               		.loc 1 81 0
  38 001c 6038      		cpi r22,-128
  39 001e 7105      		cpc r23,__zero_reg__
  40 0020 00F4      		brsh .L10
  41               		.loc 1 81 0 is_stmt 0 discriminator 1
  42 0022 6115      		cp r22,__zero_reg__
  43 0024 7105      		cpc r23,__zero_reg__
  44 0026 01F0      		breq .L11
  45               	.LVL1:
  46               	.L6:
  47               		.loc 1 81 0 discriminator 3
  48 0028 862F      		mov r24,r22
  49 002a 0895      		ret
  50               	.L2:
  70:tmk_core/common/mousekey.c ****   } else if (mousekey_accel & (1<<1)) {
  51               		.loc 1 70 0 is_stmt 1
  52 002c 81FF      		sbrs r24,1
  53 002e 00C0      		rjmp .L4
  71:tmk_core/common/mousekey.c ****   } else if (mousekey_accel & (1<<2)) {
  54               		.loc 1 71 0
  55 0030 6091 0000 		lds r22,mk_max_speed
  56 0034 85E0      		ldi r24,lo8(5)
  57 0036 689F      		mul r22,r24
  58 0038 B001      		movw r22,r0
  59 003a 1124      		clr __zero_reg__
  60 003c 7595      		asr r23
  61 003e 6795      		ror r22
  62               	.LVL2:
  63 0040 00C0      		rjmp .L3
  64               	.LVL3:
  65               	.L4:
  72:tmk_core/common/mousekey.c ****     unit = (MOUSEKEY_MOVE_DELTA * mk_max_speed);
  66               		.loc 1 72 0
  67 0042 82FF      		sbrs r24,2
  68 0044 00C0      		rjmp .L5
  73:tmk_core/common/mousekey.c ****   } else if (mousekey_repeat == 0) {
  69               		.loc 1 73 0
  70 0046 6091 0000 		lds r22,mk_max_speed
  71 004a 85E0      		ldi r24,lo8(5)
  72 004c 689F      		mul r22,r24
  73 004e B001      		movw r22,r0
  74 0050 1124      		clr __zero_reg__
  75               	.LVL4:
  76 0052 00C0      		rjmp .L3
  77               	.LVL5:
  78               	.L5:
  74:tmk_core/common/mousekey.c ****     unit = MOUSEKEY_MOVE_DELTA;
  79               		.loc 1 74 0
  80 0054 2091 0000 		lds r18,mousekey_repeat
  81 0058 2223      		tst r18
  82 005a 01F0      		breq .L9
  76:tmk_core/common/mousekey.c ****     unit = MOUSEKEY_MOVE_DELTA * mk_max_speed;
  83               		.loc 1 76 0
  84 005c 9091 0000 		lds r25,mk_time_to_max
  85 0060 6091 0000 		lds r22,mk_max_speed
  86 0064 85E0      		ldi r24,lo8(5)
  87 0066 689F      		mul r22,r24
  88 0068 B001      		movw r22,r0
  89 006a 1124      		clr __zero_reg__
  90 006c 2917      		cp r18,r25
  91 006e 00F4      		brsh .L3
  79:tmk_core/common/mousekey.c ****   }
  92               		.loc 1 79 0
  93 0070 269F      		mul r18,r22
  94 0072 A001      		movw r20,r0
  95 0074 279F      		mul r18,r23
  96 0076 500D      		add r21,r0
  97 0078 1124      		clr __zero_reg__
  98 007a 692F      		mov r22,r25
  99 007c 70E0      		ldi r23,0
 100 007e CA01      		movw r24,r20
 101 0080 0E94 0000 		call __divmodhi4
 102               	.LVL6:
 103 0084 00C0      		rjmp .L3
 104               	.LVL7:
 105               	.L9:
  75:tmk_core/common/mousekey.c ****   } else if (mousekey_repeat >= mk_time_to_max) {
 106               		.loc 1 75 0
 107 0086 65E0      		ldi r22,lo8(5)
 108 0088 70E0      		ldi r23,0
 109 008a 00C0      		rjmp .L6
 110               	.LVL8:
 111               	.L10:
 112               		.loc 1 81 0
 113 008c 8FE7      		ldi r24,lo8(127)
 114 008e 0895      		ret
 115               	.L11:
 116 0090 81E0      		ldi r24,lo8(1)
 117               	/* epilogue start */
  82:tmk_core/common/mousekey.c **** }
 118               		.loc 1 82 0
 119 0092 0895      		ret
 120               		.cfi_endproc
 121               	.LFE2:
 123               		.section	.text.wheel_unit,"ax",@progbits
 125               	wheel_unit:
 126               	.LFB3:
  83:tmk_core/common/mousekey.c **** 
  84:tmk_core/common/mousekey.c **** static uint8_t wheel_unit(void) {
 127               		.loc 1 84 0
 128               		.cfi_startproc
 129               	/* prologue: function */
 130               	/* frame size = 0 */
 131               	/* stack size = 0 */
 132               	.L__stack_usage = 0
  85:tmk_core/common/mousekey.c ****   uint16_t unit;
  86:tmk_core/common/mousekey.c ****   if (mousekey_accel & (1<<0)) {
 133               		.loc 1 86 0
 134 0000 8091 0000 		lds r24,mousekey_accel
 135 0004 80FF      		sbrs r24,0
 136 0006 00C0      		rjmp .L13
  87:tmk_core/common/mousekey.c ****     unit = (MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed)/4;
 137               		.loc 1 87 0
 138 0008 6091 0000 		lds r22,mk_wheel_max_speed
 139 000c 70E0      		ldi r23,0
 140 000e 7595      		asr r23
 141 0010 6795      		ror r22
 142 0012 7595      		asr r23
 143 0014 6795      		ror r22
 144               	.LVL9:
 145               	.L14:
  88:tmk_core/common/mousekey.c ****   } else if (mousekey_accel & (1<<1)) {
  89:tmk_core/common/mousekey.c ****     unit = (MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed)/2;
  90:tmk_core/common/mousekey.c ****   } else if (mousekey_accel & (1<<2)) {
  91:tmk_core/common/mousekey.c ****     unit = (MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed);
  92:tmk_core/common/mousekey.c ****   } else if (mousekey_repeat == 0) {
  93:tmk_core/common/mousekey.c ****     unit = MOUSEKEY_WHEEL_DELTA;
  94:tmk_core/common/mousekey.c ****   } else if (mousekey_repeat >= mk_wheel_time_to_max) {
  95:tmk_core/common/mousekey.c ****     unit = MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed;
  96:tmk_core/common/mousekey.c ****   } else {
  97:tmk_core/common/mousekey.c ****     unit = (MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed * mousekey_repeat) / mk_wheel_time_to_max;
  98:tmk_core/common/mousekey.c ****   }
  99:tmk_core/common/mousekey.c ****   return (unit > MOUSEKEY_WHEEL_MAX ? MOUSEKEY_WHEEL_MAX : (unit == 0 ? 1 : unit));
 146               		.loc 1 99 0 discriminator 1
 147 0016 6115      		cp r22,__zero_reg__
 148 0018 7105      		cpc r23,__zero_reg__
 149 001a 01F0      		breq .L23
 150               	.L18:
 151               		.loc 1 99 0 is_stmt 0 discriminator 3
 152 001c 862F      		mov r24,r22
 153 001e 0895      		ret
 154               	.L13:
  88:tmk_core/common/mousekey.c ****   } else if (mousekey_accel & (1<<1)) {
 155               		.loc 1 88 0 is_stmt 1
 156 0020 81FF      		sbrs r24,1
 157 0022 00C0      		rjmp .L15
  89:tmk_core/common/mousekey.c ****   } else if (mousekey_accel & (1<<2)) {
 158               		.loc 1 89 0
 159 0024 6091 0000 		lds r22,mk_wheel_max_speed
 160 0028 70E0      		ldi r23,0
 161 002a 7595      		asr r23
 162 002c 6795      		ror r22
 163               	.LVL10:
 164 002e 00C0      		rjmp .L14
 165               	.LVL11:
 166               	.L15:
  91:tmk_core/common/mousekey.c ****   } else if (mousekey_repeat == 0) {
 167               		.loc 1 91 0
 168 0030 6091 0000 		lds r22,mk_wheel_max_speed
  90:tmk_core/common/mousekey.c ****     unit = (MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed);
 169               		.loc 1 90 0
 170 0034 82FD      		sbrc r24,2
 171 0036 00C0      		rjmp .L24
  92:tmk_core/common/mousekey.c ****     unit = MOUSEKEY_WHEEL_DELTA;
 172               		.loc 1 92 0
 173 0038 9091 0000 		lds r25,mousekey_repeat
 174 003c 9923      		tst r25
 175 003e 01F0      		breq .L21
  94:tmk_core/common/mousekey.c ****     unit = MOUSEKEY_WHEEL_DELTA * mk_wheel_max_speed;
 176               		.loc 1 94 0
 177 0040 6091 0000 		lds r22,mk_wheel_time_to_max
 178 0044 8091 0000 		lds r24,mk_wheel_max_speed
 179 0048 9617      		cp r25,r22
 180 004a 00F0      		brlo .L19
  95:tmk_core/common/mousekey.c ****   } else {
 181               		.loc 1 95 0
 182 004c 682F      		mov r22,r24
 183               	.L24:
 184 004e 70E0      		ldi r23,0
 185               	.LVL12:
 186               	.L17:
 187               		.loc 1 99 0
 188 0050 6038      		cpi r22,-128
 189 0052 7105      		cpc r23,__zero_reg__
 190 0054 00F0      		brlo .L14
 191 0056 8FE7      		ldi r24,lo8(127)
 192 0058 0895      		ret
 193               	.LVL13:
 194               	.L19:
  97:tmk_core/common/mousekey.c ****   }
 195               		.loc 1 97 0
 196 005a 899F      		mul r24,r25
 197 005c C001      		movw r24,r0
 198 005e 1124      		clr __zero_reg__
 199 0060 70E0      		ldi r23,0
 200 0062 0E94 0000 		call __divmodhi4
 201               	.LVL14:
 202 0066 00C0      		rjmp .L17
 203               	.LVL15:
 204               	.L21:
  93:tmk_core/common/mousekey.c ****   } else if (mousekey_repeat >= mk_wheel_time_to_max) {
 205               		.loc 1 93 0
 206 0068 61E0      		ldi r22,lo8(1)
 207 006a 70E0      		ldi r23,0
 208 006c 00C0      		rjmp .L18
 209               	.L23:
 210               		.loc 1 99 0
 211 006e 81E0      		ldi r24,lo8(1)
 212               	/* epilogue start */
 100:tmk_core/common/mousekey.c **** }
 213               		.loc 1 100 0
 214 0070 0895      		ret
 215               		.cfi_endproc
 216               	.LFE3:
 218               		.section	.text.mousekey_on,"ax",@progbits
 219               	.global	mousekey_on
 221               	mousekey_on:
 222               	.LFB5:
 101:tmk_core/common/mousekey.c **** 
 102:tmk_core/common/mousekey.c **** void mousekey_task(void) {
 103:tmk_core/common/mousekey.c ****   if (timer_elapsed(last_timer) < (mousekey_repeat ? mk_interval : mk_delay*10)) {
 104:tmk_core/common/mousekey.c ****     return;
 105:tmk_core/common/mousekey.c ****   }
 106:tmk_core/common/mousekey.c ****   if (mouse_report.x == 0 && mouse_report.y == 0 && mouse_report.v == 0 && mouse_report.h == 0) {
 107:tmk_core/common/mousekey.c ****     return;
 108:tmk_core/common/mousekey.c **** 	}
 109:tmk_core/common/mousekey.c ****   if (mousekey_repeat != UINT8_MAX) mousekey_repeat++;
 110:tmk_core/common/mousekey.c ****   if (mouse_report.x > 0) mouse_report.x = move_unit();
 111:tmk_core/common/mousekey.c ****   if (mouse_report.x < 0) mouse_report.x = move_unit() * -1;
 112:tmk_core/common/mousekey.c ****   if (mouse_report.y > 0) mouse_report.y = move_unit();
 113:tmk_core/common/mousekey.c ****   if (mouse_report.y < 0) mouse_report.y = move_unit() * -1;
 114:tmk_core/common/mousekey.c ****   /* diagonal move [1/sqrt(2)] */
 115:tmk_core/common/mousekey.c ****   if (mouse_report.x && mouse_report.y) {
 116:tmk_core/common/mousekey.c ****     mouse_report.x = times_inv_sqrt2(mouse_report.x);
 117:tmk_core/common/mousekey.c ****     if (mouse_report.x == 0) { mouse_report.x = 1; }
 118:tmk_core/common/mousekey.c ****     mouse_report.y = times_inv_sqrt2(mouse_report.y);
 119:tmk_core/common/mousekey.c ****     if (mouse_report.y == 0) { mouse_report.y = 1; }
 120:tmk_core/common/mousekey.c ****   }
 121:tmk_core/common/mousekey.c ****   if (mouse_report.v > 0) mouse_report.v = wheel_unit();
 122:tmk_core/common/mousekey.c ****   if (mouse_report.v < 0) mouse_report.v = wheel_unit() * -1;
 123:tmk_core/common/mousekey.c ****   if (mouse_report.h > 0) mouse_report.h = wheel_unit();
 124:tmk_core/common/mousekey.c ****   if (mouse_report.h < 0) mouse_report.h = wheel_unit() * -1;
 125:tmk_core/common/mousekey.c ****   mousekey_send();
 126:tmk_core/common/mousekey.c **** }
 127:tmk_core/common/mousekey.c **** 
 128:tmk_core/common/mousekey.c **** void mousekey_on(uint8_t code) {
 223               		.loc 1 128 0
 224               		.cfi_startproc
 225               	.LVL16:
 226               	/* prologue: function */
 227               	/* frame size = 0 */
 228               	/* stack size = 0 */
 229               	.L__stack_usage = 0
 129:tmk_core/common/mousekey.c ****   if      (code == KC_MS_UP)       mouse_report.y = move_unit() * -1;
 230               		.loc 1 129 0
 231 0000 803F      		cpi r24,lo8(-16)
 232 0002 01F4      		brne .L26
 233               		.loc 1 129 0 is_stmt 0 discriminator 1
 234 0004 0E94 0000 		call move_unit
 235               	.LVL17:
 236 0008 8195      		neg r24
 237               	.L42:
 130:tmk_core/common/mousekey.c ****   else if (code == KC_MS_DOWN)     mouse_report.y = move_unit();
 238               		.loc 1 130 0 is_stmt 1 discriminator 1
 239 000a 8093 0000 		sts mouse_report+3,r24
 240 000e 0895      		ret
 241               	.LVL18:
 242               	.L26:
 243               		.loc 1 130 0 is_stmt 0
 244 0010 813F      		cpi r24,lo8(-15)
 245 0012 01F4      		brne .L28
 246               		.loc 1 130 0 discriminator 1
 247 0014 0E94 0000 		call move_unit
 248               	.LVL19:
 249 0018 00C0      		rjmp .L42
 250               	.LVL20:
 251               	.L28:
 131:tmk_core/common/mousekey.c ****   else if (code == KC_MS_LEFT)     mouse_report.x = move_unit() * -1;
 252               		.loc 1 131 0 is_stmt 1
 253 001a 823F      		cpi r24,lo8(-14)
 254 001c 01F4      		brne .L29
 255               		.loc 1 131 0 is_stmt 0 discriminator 1
 256 001e 0E94 0000 		call move_unit
 257               	.LVL21:
 258 0022 8195      		neg r24
 259               	.L44:
 132:tmk_core/common/mousekey.c ****   else if (code == KC_MS_RIGHT)    mouse_report.x = move_unit();
 260               		.loc 1 132 0 is_stmt 1 discriminator 1
 261 0024 8093 0000 		sts mouse_report+2,r24
 262 0028 0895      		ret
 263               	.LVL22:
 264               	.L29:
 265               		.loc 1 132 0 is_stmt 0
 266 002a 833F      		cpi r24,lo8(-13)
 267 002c 01F4      		brne .L30
 268               		.loc 1 132 0 discriminator 1
 269 002e 0E94 0000 		call move_unit
 270               	.LVL23:
 271 0032 00C0      		rjmp .L44
 272               	.LVL24:
 273               	.L30:
 133:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_UP)    mouse_report.v = wheel_unit();
 274               		.loc 1 133 0 is_stmt 1
 275 0034 893F      		cpi r24,lo8(-7)
 276 0036 01F4      		brne .L31
 277               		.loc 1 133 0 is_stmt 0 discriminator 1
 278 0038 0E94 0000 		call wheel_unit
 279               	.LVL25:
 280               	.L46:
 134:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_DOWN)  mouse_report.v = wheel_unit() * -1;
 281               		.loc 1 134 0 is_stmt 1 discriminator 1
 282 003c 8093 0000 		sts mouse_report+4,r24
 283 0040 0895      		ret
 284               	.LVL26:
 285               	.L31:
 286               		.loc 1 134 0 is_stmt 0
 287 0042 8A3F      		cpi r24,lo8(-6)
 288 0044 01F4      		brne .L32
 289               		.loc 1 134 0 discriminator 1
 290 0046 0E94 0000 		call wheel_unit
 291               	.LVL27:
 292 004a 8195      		neg r24
 293 004c 00C0      		rjmp .L46
 294               	.LVL28:
 295               	.L32:
 135:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_LEFT)  mouse_report.h = wheel_unit() * -1;
 296               		.loc 1 135 0 is_stmt 1
 297 004e 8B3F      		cpi r24,lo8(-5)
 298 0050 01F4      		brne .L33
 299               		.loc 1 135 0 is_stmt 0 discriminator 1
 300 0052 0E94 0000 		call wheel_unit
 301               	.LVL29:
 302 0056 8195      		neg r24
 303               	.L47:
 136:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_RIGHT) mouse_report.h = wheel_unit();
 304               		.loc 1 136 0 is_stmt 1 discriminator 1
 305 0058 8093 0000 		sts mouse_report+5,r24
 306 005c 0895      		ret
 307               	.LVL30:
 308               	.L33:
 309               		.loc 1 136 0 is_stmt 0
 310 005e 8C3F      		cpi r24,lo8(-4)
 311 0060 01F4      		brne .L34
 312               		.loc 1 136 0 discriminator 1
 313 0062 0E94 0000 		call wheel_unit
 314               	.LVL31:
 315 0066 00C0      		rjmp .L47
 316               	.LVL32:
 317               	.L34:
 137:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN1)     mouse_report.buttons |= MOUSE_BTN1;
 318               		.loc 1 137 0 is_stmt 1
 319 0068 843F      		cpi r24,lo8(-12)
 320 006a 01F4      		brne .L35
 321               		.loc 1 137 0 is_stmt 0 discriminator 1
 322 006c 8091 0000 		lds r24,mouse_report+1
 323               	.LVL33:
 324 0070 8160      		ori r24,lo8(1)
 325               	.L45:
 138:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN2)     mouse_report.buttons |= MOUSE_BTN2;
 139:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN3)     mouse_report.buttons |= MOUSE_BTN3;
 140:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN4)     mouse_report.buttons |= MOUSE_BTN4;
 141:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN5)     mouse_report.buttons |= MOUSE_BTN5;
 326               		.loc 1 141 0 is_stmt 1 discriminator 1
 327 0072 8093 0000 		sts mouse_report+1,r24
 328 0076 0895      		ret
 329               	.LVL34:
 330               	.L35:
 138:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN2)     mouse_report.buttons |= MOUSE_BTN2;
 331               		.loc 1 138 0
 332 0078 853F      		cpi r24,lo8(-11)
 333 007a 01F4      		brne .L36
 138:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN2)     mouse_report.buttons |= MOUSE_BTN2;
 334               		.loc 1 138 0 is_stmt 0 discriminator 1
 335 007c 8091 0000 		lds r24,mouse_report+1
 336               	.LVL35:
 337 0080 8260      		ori r24,lo8(2)
 338 0082 00C0      		rjmp .L45
 339               	.LVL36:
 340               	.L36:
 139:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN4)     mouse_report.buttons |= MOUSE_BTN4;
 341               		.loc 1 139 0 is_stmt 1
 342 0084 863F      		cpi r24,lo8(-10)
 343 0086 01F4      		brne .L37
 139:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN4)     mouse_report.buttons |= MOUSE_BTN4;
 344               		.loc 1 139 0 is_stmt 0 discriminator 1
 345 0088 8091 0000 		lds r24,mouse_report+1
 346               	.LVL37:
 347 008c 8460      		ori r24,lo8(4)
 348 008e 00C0      		rjmp .L45
 349               	.LVL38:
 350               	.L37:
 140:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN5)     mouse_report.buttons |= MOUSE_BTN5;
 351               		.loc 1 140 0 is_stmt 1
 352 0090 873F      		cpi r24,lo8(-9)
 353 0092 01F4      		brne .L38
 140:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN5)     mouse_report.buttons |= MOUSE_BTN5;
 354               		.loc 1 140 0 is_stmt 0 discriminator 1
 355 0094 8091 0000 		lds r24,mouse_report+1
 356               	.LVL39:
 357 0098 8860      		ori r24,lo8(8)
 358 009a 00C0      		rjmp .L45
 359               	.LVL40:
 360               	.L38:
 361               		.loc 1 141 0 is_stmt 1
 362 009c 883F      		cpi r24,lo8(-8)
 363 009e 01F4      		brne .L39
 364               		.loc 1 141 0 is_stmt 0 discriminator 1
 365 00a0 8091 0000 		lds r24,mouse_report+1
 366               	.LVL41:
 367 00a4 8061      		ori r24,lo8(16)
 368 00a6 00C0      		rjmp .L45
 369               	.LVL42:
 370               	.L39:
 142:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL0)   mousekey_accel |= (1<<0);
 371               		.loc 1 142 0 is_stmt 1
 372 00a8 8D3F      		cpi r24,lo8(-3)
 373 00aa 01F4      		brne .L40
 374               		.loc 1 142 0 is_stmt 0 discriminator 1
 375 00ac 8091 0000 		lds r24,mousekey_accel
 376               	.LVL43:
 377 00b0 8160      		ori r24,lo8(1)
 378               	.L43:
 143:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL1)   mousekey_accel |= (1<<1);
 144:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL2)   mousekey_accel |= (1<<2);
 379               		.loc 1 144 0 is_stmt 1 discriminator 1
 380 00b2 8093 0000 		sts mousekey_accel,r24
 381               	.L25:
 382               	/* epilogue start */
 145:tmk_core/common/mousekey.c **** }
 383               		.loc 1 145 0
 384 00b6 0895      		ret
 385               	.LVL44:
 386               	.L40:
 143:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL1)   mousekey_accel |= (1<<1);
 387               		.loc 1 143 0
 388 00b8 8E3F      		cpi r24,lo8(-2)
 389 00ba 01F4      		brne .L41
 143:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL1)   mousekey_accel |= (1<<1);
 390               		.loc 1 143 0 is_stmt 0 discriminator 1
 391 00bc 8091 0000 		lds r24,mousekey_accel
 392               	.LVL45:
 393 00c0 8260      		ori r24,lo8(2)
 394 00c2 00C0      		rjmp .L43
 395               	.LVL46:
 396               	.L41:
 144:tmk_core/common/mousekey.c **** }
 397               		.loc 1 144 0 is_stmt 1
 398 00c4 8F3F      		cpi r24,lo8(-1)
 399 00c6 01F4      		brne .L25
 144:tmk_core/common/mousekey.c **** }
 400               		.loc 1 144 0 is_stmt 0 discriminator 1
 401 00c8 8091 0000 		lds r24,mousekey_accel
 402               	.LVL47:
 403 00cc 8460      		ori r24,lo8(4)
 404 00ce 00C0      		rjmp .L43
 405               		.cfi_endproc
 406               	.LFE5:
 408               		.section	.text.mousekey_off,"ax",@progbits
 409               	.global	mousekey_off
 411               	mousekey_off:
 412               	.LFB6:
 146:tmk_core/common/mousekey.c **** 
 147:tmk_core/common/mousekey.c **** void mousekey_off(uint8_t code) {
 413               		.loc 1 147 0 is_stmt 1
 414               		.cfi_startproc
 415               	.LVL48:
 416               	/* prologue: function */
 417               	/* frame size = 0 */
 418               	/* stack size = 0 */
 419               	.L__stack_usage = 0
 148:tmk_core/common/mousekey.c ****   if      (code == KC_MS_UP       && mouse_report.y < 0) mouse_report.y = 0;
 420               		.loc 1 148 0
 421 0000 803F      		cpi r24,lo8(-16)
 422 0002 01F4      		brne .L49
 423               		.loc 1 148 0 is_stmt 0 discriminator 1
 424 0004 8091 0000 		lds r24,mouse_report+3
 425               	.LVL49:
 426 0008 87FD      		sbrc r24,7
 427               	.L52:
 428               		.loc 1 148 0 discriminator 2
 429 000a 1092 0000 		sts mouse_report+3,__zero_reg__
 430               	.L50:
 149:tmk_core/common/mousekey.c ****   else if (code == KC_MS_DOWN     && mouse_report.y > 0) mouse_report.y = 0;
 150:tmk_core/common/mousekey.c ****   else if (code == KC_MS_LEFT     && mouse_report.x < 0) mouse_report.x = 0;
 151:tmk_core/common/mousekey.c ****   else if (code == KC_MS_RIGHT    && mouse_report.x > 0) mouse_report.x = 0;
 152:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_UP    && mouse_report.v > 0) mouse_report.v = 0;
 153:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_DOWN  && mouse_report.v < 0) mouse_report.v = 0;
 154:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_LEFT  && mouse_report.h < 0) mouse_report.h = 0;
 155:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_RIGHT && mouse_report.h > 0) mouse_report.h = 0;
 156:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN1) mouse_report.buttons &= ~MOUSE_BTN1;
 157:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN2) mouse_report.buttons &= ~MOUSE_BTN2;
 158:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN3) mouse_report.buttons &= ~MOUSE_BTN3;
 159:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN4) mouse_report.buttons &= ~MOUSE_BTN4;
 160:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN5) mouse_report.buttons &= ~MOUSE_BTN5;
 161:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL0) mousekey_accel &= ~(1<<0);
 162:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL1) mousekey_accel &= ~(1<<1);
 163:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL2) mousekey_accel &= ~(1<<2);
 164:tmk_core/common/mousekey.c ****   if (mouse_report.x == 0 && mouse_report.y == 0 && mouse_report.v == 0 && mouse_report.h == 0)
 431               		.loc 1 164 0 is_stmt 1
 432 000e 8091 0000 		lds r24,mouse_report+2
 433 0012 8111      		cpse r24,__zero_reg__
 434 0014 00C0      		rjmp .L48
 435               		.loc 1 164 0 is_stmt 0 discriminator 1
 436 0016 8091 0000 		lds r24,mouse_report+3
 437 001a 8111      		cpse r24,__zero_reg__
 438 001c 00C0      		rjmp .L48
 439               		.loc 1 164 0 discriminator 2
 440 001e 8091 0000 		lds r24,mouse_report+4
 441 0022 8111      		cpse r24,__zero_reg__
 442 0024 00C0      		rjmp .L48
 443               		.loc 1 164 0 discriminator 3
 444 0026 8091 0000 		lds r24,mouse_report+5
 445 002a 8111      		cpse r24,__zero_reg__
 446 002c 00C0      		rjmp .L48
 165:tmk_core/common/mousekey.c ****     mousekey_repeat = 0;
 447               		.loc 1 165 0 is_stmt 1
 448 002e 1092 0000 		sts mousekey_repeat,__zero_reg__
 449               	.L48:
 450               	/* epilogue start */
 166:tmk_core/common/mousekey.c **** }
 451               		.loc 1 166 0
 452 0032 0895      		ret
 453               	.LVL50:
 454               	.L49:
 149:tmk_core/common/mousekey.c ****   else if (code == KC_MS_DOWN     && mouse_report.y > 0) mouse_report.y = 0;
 455               		.loc 1 149 0
 456 0034 813F      		cpi r24,lo8(-15)
 457 0036 01F4      		brne .L51
 149:tmk_core/common/mousekey.c ****   else if (code == KC_MS_DOWN     && mouse_report.y > 0) mouse_report.y = 0;
 458               		.loc 1 149 0 is_stmt 0 discriminator 1
 459 0038 8091 0000 		lds r24,mouse_report+3
 460               	.LVL51:
 461 003c 1816      		cp __zero_reg__,r24
 462 003e 04F0      		brlt .L52
 463 0040 00C0      		rjmp .L50
 464               	.LVL52:
 465               	.L51:
 466 0042 9091 0000 		lds r25,mouse_report+2
 150:tmk_core/common/mousekey.c ****   else if (code == KC_MS_RIGHT    && mouse_report.x > 0) mouse_report.x = 0;
 467               		.loc 1 150 0 is_stmt 1
 468 0046 823F      		cpi r24,lo8(-14)
 469 0048 01F4      		brne .L53
 150:tmk_core/common/mousekey.c ****   else if (code == KC_MS_RIGHT    && mouse_report.x > 0) mouse_report.x = 0;
 470               		.loc 1 150 0 is_stmt 0 discriminator 1
 471 004a 97FF      		sbrs r25,7
 472 004c 00C0      		rjmp .L50
 473               	.L55:
 150:tmk_core/common/mousekey.c ****   else if (code == KC_MS_RIGHT    && mouse_report.x > 0) mouse_report.x = 0;
 474               		.loc 1 150 0 discriminator 2
 475 004e 1092 0000 		sts mouse_report+2,__zero_reg__
 476 0052 00C0      		rjmp .L50
 477               	.L53:
 151:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_UP    && mouse_report.v > 0) mouse_report.v = 0;
 478               		.loc 1 151 0 is_stmt 1
 479 0054 833F      		cpi r24,lo8(-13)
 480 0056 01F4      		brne .L54
 151:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_UP    && mouse_report.v > 0) mouse_report.v = 0;
 481               		.loc 1 151 0 is_stmt 0 discriminator 1
 482 0058 1916      		cp __zero_reg__,r25
 483 005a 04F0      		brlt .L55
 484 005c 00C0      		rjmp .L50
 485               	.L54:
 152:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_DOWN  && mouse_report.v < 0) mouse_report.v = 0;
 486               		.loc 1 152 0 is_stmt 1
 487 005e 893F      		cpi r24,lo8(-7)
 488 0060 01F4      		brne .L56
 152:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_DOWN  && mouse_report.v < 0) mouse_report.v = 0;
 489               		.loc 1 152 0 is_stmt 0 discriminator 1
 490 0062 8091 0000 		lds r24,mouse_report+4
 491               	.LVL53:
 492 0066 1816      		cp __zero_reg__,r24
 493 0068 04F4      		brge .L50
 494               	.L58:
 152:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_DOWN  && mouse_report.v < 0) mouse_report.v = 0;
 495               		.loc 1 152 0 discriminator 2
 496 006a 1092 0000 		sts mouse_report+4,__zero_reg__
 497 006e 00C0      		rjmp .L50
 498               	.LVL54:
 499               	.L56:
 153:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_LEFT  && mouse_report.h < 0) mouse_report.h = 0;
 500               		.loc 1 153 0 is_stmt 1
 501 0070 8A3F      		cpi r24,lo8(-6)
 502 0072 01F4      		brne .L57
 153:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_LEFT  && mouse_report.h < 0) mouse_report.h = 0;
 503               		.loc 1 153 0 is_stmt 0 discriminator 1
 504 0074 8091 0000 		lds r24,mouse_report+4
 505               	.LVL55:
 506 0078 87FF      		sbrs r24,7
 507 007a 00C0      		rjmp .L50
 508 007c 00C0      		rjmp .L58
 509               	.LVL56:
 510               	.L57:
 154:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_RIGHT && mouse_report.h > 0) mouse_report.h = 0;
 511               		.loc 1 154 0 is_stmt 1
 512 007e 8B3F      		cpi r24,lo8(-5)
 513 0080 01F4      		brne .L59
 154:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_RIGHT && mouse_report.h > 0) mouse_report.h = 0;
 514               		.loc 1 154 0 is_stmt 0 discriminator 1
 515 0082 8091 0000 		lds r24,mouse_report+5
 516               	.LVL57:
 517 0086 87FF      		sbrs r24,7
 518 0088 00C0      		rjmp .L50
 519               	.L61:
 154:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_RIGHT && mouse_report.h > 0) mouse_report.h = 0;
 520               		.loc 1 154 0 discriminator 2
 521 008a 1092 0000 		sts mouse_report+5,__zero_reg__
 522 008e 00C0      		rjmp .L50
 523               	.LVL58:
 524               	.L59:
 155:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN1) mouse_report.buttons &= ~MOUSE_BTN1;
 525               		.loc 1 155 0 is_stmt 1
 526 0090 8C3F      		cpi r24,lo8(-4)
 527 0092 01F4      		brne .L60
 155:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN1) mouse_report.buttons &= ~MOUSE_BTN1;
 528               		.loc 1 155 0 is_stmt 0 discriminator 1
 529 0094 8091 0000 		lds r24,mouse_report+5
 530               	.LVL59:
 531 0098 1816      		cp __zero_reg__,r24
 532 009a 04F0      		brlt .L61
 533 009c 00C0      		rjmp .L50
 534               	.LVL60:
 535               	.L60:
 156:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN2) mouse_report.buttons &= ~MOUSE_BTN2;
 536               		.loc 1 156 0 is_stmt 1
 537 009e 843F      		cpi r24,lo8(-12)
 538 00a0 01F4      		brne .L62
 156:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN2) mouse_report.buttons &= ~MOUSE_BTN2;
 539               		.loc 1 156 0 is_stmt 0 discriminator 1
 540 00a2 8091 0000 		lds r24,mouse_report+1
 541               	.LVL61:
 542 00a6 8E7F      		andi r24,lo8(-2)
 543               	.L71:
 160:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL0) mousekey_accel &= ~(1<<0);
 544               		.loc 1 160 0 is_stmt 1 discriminator 1
 545 00a8 8093 0000 		sts mouse_report+1,r24
 546 00ac 00C0      		rjmp .L50
 547               	.LVL62:
 548               	.L62:
 157:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN3) mouse_report.buttons &= ~MOUSE_BTN3;
 549               		.loc 1 157 0
 550 00ae 853F      		cpi r24,lo8(-11)
 551 00b0 01F4      		brne .L63
 157:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN3) mouse_report.buttons &= ~MOUSE_BTN3;
 552               		.loc 1 157 0 is_stmt 0 discriminator 1
 553 00b2 8091 0000 		lds r24,mouse_report+1
 554               	.LVL63:
 555 00b6 8D7F      		andi r24,lo8(-3)
 556 00b8 00C0      		rjmp .L71
 557               	.LVL64:
 558               	.L63:
 158:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN4) mouse_report.buttons &= ~MOUSE_BTN4;
 559               		.loc 1 158 0 is_stmt 1
 560 00ba 863F      		cpi r24,lo8(-10)
 561 00bc 01F4      		brne .L64
 158:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN4) mouse_report.buttons &= ~MOUSE_BTN4;
 562               		.loc 1 158 0 is_stmt 0 discriminator 1
 563 00be 8091 0000 		lds r24,mouse_report+1
 564               	.LVL65:
 565 00c2 8B7F      		andi r24,lo8(-5)
 566 00c4 00C0      		rjmp .L71
 567               	.LVL66:
 568               	.L64:
 159:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN5) mouse_report.buttons &= ~MOUSE_BTN5;
 569               		.loc 1 159 0 is_stmt 1
 570 00c6 873F      		cpi r24,lo8(-9)
 571 00c8 01F4      		brne .L65
 159:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN5) mouse_report.buttons &= ~MOUSE_BTN5;
 572               		.loc 1 159 0 is_stmt 0 discriminator 1
 573 00ca 8091 0000 		lds r24,mouse_report+1
 574               	.LVL67:
 575 00ce 877F      		andi r24,lo8(-9)
 576 00d0 00C0      		rjmp .L71
 577               	.LVL68:
 578               	.L65:
 160:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL0) mousekey_accel &= ~(1<<0);
 579               		.loc 1 160 0 is_stmt 1
 580 00d2 883F      		cpi r24,lo8(-8)
 581 00d4 01F4      		brne .L66
 160:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL0) mousekey_accel &= ~(1<<0);
 582               		.loc 1 160 0 is_stmt 0 discriminator 1
 583 00d6 8091 0000 		lds r24,mouse_report+1
 584               	.LVL69:
 585 00da 8F7E      		andi r24,lo8(-17)
 586 00dc 00C0      		rjmp .L71
 587               	.LVL70:
 588               	.L66:
 161:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL1) mousekey_accel &= ~(1<<1);
 589               		.loc 1 161 0 is_stmt 1
 590 00de 8D3F      		cpi r24,lo8(-3)
 591 00e0 01F4      		brne .L67
 161:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL1) mousekey_accel &= ~(1<<1);
 592               		.loc 1 161 0 is_stmt 0 discriminator 1
 593 00e2 8091 0000 		lds r24,mousekey_accel
 594               	.LVL71:
 595 00e6 8E7F      		andi r24,lo8(-2)
 596               	.L70:
 163:tmk_core/common/mousekey.c ****   if (mouse_report.x == 0 && mouse_report.y == 0 && mouse_report.v == 0 && mouse_report.h == 0)
 597               		.loc 1 163 0 is_stmt 1 discriminator 1
 598 00e8 8093 0000 		sts mousekey_accel,r24
 599 00ec 00C0      		rjmp .L50
 600               	.LVL72:
 601               	.L67:
 162:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL2) mousekey_accel &= ~(1<<2);
 602               		.loc 1 162 0
 603 00ee 8E3F      		cpi r24,lo8(-2)
 604 00f0 01F4      		brne .L68
 162:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL2) mousekey_accel &= ~(1<<2);
 605               		.loc 1 162 0 is_stmt 0 discriminator 1
 606 00f2 8091 0000 		lds r24,mousekey_accel
 607               	.LVL73:
 608 00f6 8D7F      		andi r24,lo8(-3)
 609 00f8 00C0      		rjmp .L70
 610               	.LVL74:
 611               	.L68:
 163:tmk_core/common/mousekey.c ****   if (mouse_report.x == 0 && mouse_report.y == 0 && mouse_report.v == 0 && mouse_report.h == 0)
 612               		.loc 1 163 0 is_stmt 1
 613 00fa 8F3F      		cpi r24,lo8(-1)
 614 00fc 01F0      		breq .+2
 615 00fe 00C0      		rjmp .L50
 163:tmk_core/common/mousekey.c ****   if (mouse_report.x == 0 && mouse_report.y == 0 && mouse_report.v == 0 && mouse_report.h == 0)
 616               		.loc 1 163 0 is_stmt 0 discriminator 1
 617 0100 8091 0000 		lds r24,mousekey_accel
 618               	.LVL75:
 619 0104 8B7F      		andi r24,lo8(-5)
 620 0106 00C0      		rjmp .L70
 621               		.cfi_endproc
 622               	.LFE6:
 624               		.section	.text.mousekey_send,"ax",@progbits
 625               	.global	mousekey_send
 627               	mousekey_send:
 628               	.LFB7:
 167:tmk_core/common/mousekey.c **** 
 168:tmk_core/common/mousekey.c **** 
 169:tmk_core/common/mousekey.c **** 
 170:tmk_core/common/mousekey.c **** 
 171:tmk_core/common/mousekey.c **** #else  /* #ifndef MK_3_SPEED */
 172:tmk_core/common/mousekey.c **** 
 173:tmk_core/common/mousekey.c **** 
 174:tmk_core/common/mousekey.c **** 
 175:tmk_core/common/mousekey.c **** enum {
 176:tmk_core/common/mousekey.c ****   mkspd_unmod,
 177:tmk_core/common/mousekey.c ****   mkspd_0,
 178:tmk_core/common/mousekey.c ****   mkspd_1,
 179:tmk_core/common/mousekey.c ****   mkspd_2,
 180:tmk_core/common/mousekey.c ****   mkspd_COUNT
 181:tmk_core/common/mousekey.c **** };
 182:tmk_core/common/mousekey.c **** #ifndef MK_MOMENTARY_ACCEL
 183:tmk_core/common/mousekey.c **** static uint8_t mk_speed = mkspd_1;
 184:tmk_core/common/mousekey.c **** #else
 185:tmk_core/common/mousekey.c **** static uint8_t mk_speed = mkspd_unmod;
 186:tmk_core/common/mousekey.c **** static uint8_t mkspd_DEFAULT = mkspd_unmod;
 187:tmk_core/common/mousekey.c **** #endif
 188:tmk_core/common/mousekey.c **** static uint16_t last_timer_c = 0;
 189:tmk_core/common/mousekey.c **** static uint16_t last_timer_w = 0;
 190:tmk_core/common/mousekey.c **** uint16_t c_offsets[mkspd_COUNT] = {
 191:tmk_core/common/mousekey.c ****   MK_C_OFFSET_UNMOD, MK_C_OFFSET_0, MK_C_OFFSET_1, MK_C_OFFSET_2
 192:tmk_core/common/mousekey.c **** };
 193:tmk_core/common/mousekey.c **** uint16_t c_intervals[mkspd_COUNT] = {
 194:tmk_core/common/mousekey.c ****   MK_C_INTERVAL_UNMOD, MK_C_INTERVAL_0, MK_C_INTERVAL_1, MK_C_INTERVAL_2
 195:tmk_core/common/mousekey.c **** };
 196:tmk_core/common/mousekey.c **** uint16_t w_offsets[mkspd_COUNT] = {
 197:tmk_core/common/mousekey.c ****   MK_W_OFFSET_UNMOD, MK_W_OFFSET_0, MK_W_OFFSET_1, MK_W_OFFSET_2
 198:tmk_core/common/mousekey.c **** };
 199:tmk_core/common/mousekey.c **** uint16_t w_intervals[mkspd_COUNT] = {
 200:tmk_core/common/mousekey.c ****   MK_W_INTERVAL_UNMOD, MK_W_INTERVAL_0, MK_W_INTERVAL_1, MK_W_INTERVAL_2
 201:tmk_core/common/mousekey.c **** };
 202:tmk_core/common/mousekey.c **** 
 203:tmk_core/common/mousekey.c **** 
 204:tmk_core/common/mousekey.c **** void mousekey_task(void) {
 205:tmk_core/common/mousekey.c ****   // report cursor and scroll movement independently
 206:tmk_core/common/mousekey.c ****   report_mouse_t const tmpmr = mouse_report;
 207:tmk_core/common/mousekey.c ****   if ((mouse_report.x  ||  mouse_report.y)  &&  timer_elapsed(last_timer_c) > c_intervals[mk_speed]
 208:tmk_core/common/mousekey.c ****   mouse_report.h = 0;
 209:tmk_core/common/mousekey.c ****   mouse_report.v = 0;
 210:tmk_core/common/mousekey.c ****   mousekey_send();
 211:tmk_core/common/mousekey.c ****   last_timer_c = last_timer;
 212:tmk_core/common/mousekey.c ****   mouse_report = tmpmr;
 213:tmk_core/common/mousekey.c ****   }
 214:tmk_core/common/mousekey.c ****   if ((mouse_report.h  ||  mouse_report.v)  &&  timer_elapsed(last_timer_w) > w_intervals[mk_speed]
 215:tmk_core/common/mousekey.c ****   mouse_report.x = 0;
 216:tmk_core/common/mousekey.c ****   mouse_report.y = 0;
 217:tmk_core/common/mousekey.c ****   mousekey_send();
 218:tmk_core/common/mousekey.c ****   last_timer_w = last_timer;
 219:tmk_core/common/mousekey.c ****   mouse_report = tmpmr;
 220:tmk_core/common/mousekey.c ****   }
 221:tmk_core/common/mousekey.c **** }
 222:tmk_core/common/mousekey.c **** 
 223:tmk_core/common/mousekey.c **** void adjust_speed(void) {
 224:tmk_core/common/mousekey.c ****   uint16_t const c_offset = c_offsets[mk_speed];
 225:tmk_core/common/mousekey.c ****   uint16_t const w_offset = w_offsets[mk_speed];
 226:tmk_core/common/mousekey.c ****   if (mouse_report.x > 0) mouse_report.x = c_offset;
 227:tmk_core/common/mousekey.c ****   if (mouse_report.x < 0) mouse_report.x = c_offset * -1;
 228:tmk_core/common/mousekey.c ****   if (mouse_report.y > 0) mouse_report.y = c_offset;
 229:tmk_core/common/mousekey.c ****   if (mouse_report.y < 0) mouse_report.y = c_offset * -1;
 230:tmk_core/common/mousekey.c ****   if (mouse_report.h > 0) mouse_report.h = w_offset;
 231:tmk_core/common/mousekey.c ****   if (mouse_report.h < 0) mouse_report.h = w_offset * -1;
 232:tmk_core/common/mousekey.c ****   if (mouse_report.v > 0) mouse_report.v = w_offset;
 233:tmk_core/common/mousekey.c ****   if (mouse_report.v < 0) mouse_report.v = w_offset * -1;
 234:tmk_core/common/mousekey.c ****   // adjust for diagonals
 235:tmk_core/common/mousekey.c ****   if (mouse_report.x && mouse_report.y) {
 236:tmk_core/common/mousekey.c ****   mouse_report.x = times_inv_sqrt2(mouse_report.x);
 237:tmk_core/common/mousekey.c ****   if (mouse_report.x == 0) { mouse_report.x = 1; }
 238:tmk_core/common/mousekey.c ****   mouse_report.y = times_inv_sqrt2(mouse_report.y);
 239:tmk_core/common/mousekey.c ****   if (mouse_report.y == 0) { mouse_report.y = 1; }
 240:tmk_core/common/mousekey.c ****   }
 241:tmk_core/common/mousekey.c ****   if (mouse_report.h && mouse_report.v) {
 242:tmk_core/common/mousekey.c ****   mouse_report.h = times_inv_sqrt2(mouse_report.h);
 243:tmk_core/common/mousekey.c ****   mouse_report.v = times_inv_sqrt2(mouse_report.v);
 244:tmk_core/common/mousekey.c ****   }
 245:tmk_core/common/mousekey.c **** }
 246:tmk_core/common/mousekey.c **** 
 247:tmk_core/common/mousekey.c **** void mousekey_on(uint8_t code) {
 248:tmk_core/common/mousekey.c ****   uint16_t const c_offset = c_offsets[mk_speed];
 249:tmk_core/common/mousekey.c ****   uint16_t const w_offset = w_offsets[mk_speed];
 250:tmk_core/common/mousekey.c ****   uint8_t const old_speed = mk_speed;
 251:tmk_core/common/mousekey.c ****   if      (code == KC_MS_UP)       mouse_report.y = c_offset * -1;
 252:tmk_core/common/mousekey.c ****   else if (code == KC_MS_DOWN)     mouse_report.y = c_offset;
 253:tmk_core/common/mousekey.c ****   else if (code == KC_MS_LEFT)     mouse_report.x = c_offset * -1;
 254:tmk_core/common/mousekey.c ****   else if (code == KC_MS_RIGHT)    mouse_report.x = c_offset;
 255:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_UP)    mouse_report.v = w_offset;
 256:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_DOWN)  mouse_report.v = w_offset * -1;
 257:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_LEFT)  mouse_report.h = w_offset * -1;
 258:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_RIGHT) mouse_report.h = w_offset;
 259:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN1)     mouse_report.buttons |= MOUSE_BTN1;
 260:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN2)     mouse_report.buttons |= MOUSE_BTN2;
 261:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN3)     mouse_report.buttons |= MOUSE_BTN3;
 262:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN4)     mouse_report.buttons |= MOUSE_BTN4;
 263:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN5)     mouse_report.buttons |= MOUSE_BTN5;
 264:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL0)   mk_speed = mkspd_0;
 265:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL1)   mk_speed = mkspd_1;
 266:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL2)   mk_speed = mkspd_2;
 267:tmk_core/common/mousekey.c ****   if (mk_speed != old_speed) adjust_speed();
 268:tmk_core/common/mousekey.c **** }
 269:tmk_core/common/mousekey.c **** 
 270:tmk_core/common/mousekey.c **** void mousekey_off(uint8_t code) {
 271:tmk_core/common/mousekey.c **** #ifdef MK_MOMENTARY_ACCEL
 272:tmk_core/common/mousekey.c ****   uint8_t const old_speed = mk_speed;
 273:tmk_core/common/mousekey.c **** #endif
 274:tmk_core/common/mousekey.c ****   if      (code == KC_MS_UP       && mouse_report.y < 0) mouse_report.y = 0;
 275:tmk_core/common/mousekey.c ****   else if (code == KC_MS_DOWN     && mouse_report.y > 0) mouse_report.y = 0;
 276:tmk_core/common/mousekey.c ****   else if (code == KC_MS_LEFT     && mouse_report.x < 0) mouse_report.x = 0;
 277:tmk_core/common/mousekey.c ****   else if (code == KC_MS_RIGHT    && mouse_report.x > 0) mouse_report.x = 0;
 278:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_UP    && mouse_report.v > 0) mouse_report.v = 0;
 279:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_DOWN  && mouse_report.v < 0) mouse_report.v = 0;
 280:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_LEFT  && mouse_report.h < 0) mouse_report.h = 0;
 281:tmk_core/common/mousekey.c ****   else if (code == KC_MS_WH_RIGHT && mouse_report.h > 0) mouse_report.h = 0;
 282:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN1) mouse_report.buttons &= ~MOUSE_BTN1;
 283:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN2) mouse_report.buttons &= ~MOUSE_BTN2;
 284:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN3) mouse_report.buttons &= ~MOUSE_BTN3;
 285:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN4) mouse_report.buttons &= ~MOUSE_BTN4;
 286:tmk_core/common/mousekey.c ****   else if (code == KC_MS_BTN5) mouse_report.buttons &= ~MOUSE_BTN5;
 287:tmk_core/common/mousekey.c **** #ifdef MK_MOMENTARY_ACCEL
 288:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL0) mk_speed = mkspd_DEFAULT;
 289:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL1) mk_speed = mkspd_DEFAULT;
 290:tmk_core/common/mousekey.c ****   else if (code == KC_MS_ACCEL2) mk_speed = mkspd_DEFAULT;
 291:tmk_core/common/mousekey.c ****   if (mk_speed != old_speed) adjust_speed();
 292:tmk_core/common/mousekey.c **** #endif
 293:tmk_core/common/mousekey.c **** }
 294:tmk_core/common/mousekey.c **** 
 295:tmk_core/common/mousekey.c **** 
 296:tmk_core/common/mousekey.c **** 
 297:tmk_core/common/mousekey.c **** 
 298:tmk_core/common/mousekey.c **** #endif /* #ifndef MK_3_SPEED */
 299:tmk_core/common/mousekey.c **** 
 300:tmk_core/common/mousekey.c **** 
 301:tmk_core/common/mousekey.c **** 
 302:tmk_core/common/mousekey.c **** 
 303:tmk_core/common/mousekey.c **** void mousekey_send(void) {
 629               		.loc 1 303 0 is_stmt 1
 630               		.cfi_startproc
 631               	/* prologue: function */
 632               	/* frame size = 0 */
 633               	/* stack size = 0 */
 634               	.L__stack_usage = 0
 635               	.LBB23:
 636               	.LBB24:
 304:tmk_core/common/mousekey.c ****   mousekey_debug();
 305:tmk_core/common/mousekey.c ****   host_mouse_send(&mouse_report);
 306:tmk_core/common/mousekey.c ****   last_timer = timer_read();
 307:tmk_core/common/mousekey.c **** }
 308:tmk_core/common/mousekey.c **** 
 309:tmk_core/common/mousekey.c **** void mousekey_clear(void) {
 310:tmk_core/common/mousekey.c ****   mouse_report = (report_mouse_t){};
 311:tmk_core/common/mousekey.c ****   mousekey_repeat = 0;
 312:tmk_core/common/mousekey.c ****   mousekey_accel = 0;
 313:tmk_core/common/mousekey.c **** }
 314:tmk_core/common/mousekey.c **** 
 315:tmk_core/common/mousekey.c **** static void mousekey_debug(void) {
 316:tmk_core/common/mousekey.c ****   if (!debug_mouse) return;
 637               		.loc 1 316 0
 638 0000 8091 0000 		lds r24,debug_config
 639 0004 83FF      		sbrs r24,3
 640 0006 00C0      		rjmp .L73
 317:tmk_core/common/mousekey.c ****   print("mousekey [btn|x y v h](rep/acl): [");
 641               		.loc 1 317 0
 642 0008 80E0      		ldi r24,lo8(__c.2091)
 643 000a 90E0      		ldi r25,hi8(__c.2091)
 644 000c 0E94 0000 		call xputs
 318:tmk_core/common/mousekey.c ****   phex(mouse_report.buttons); print("|");
 645               		.loc 1 318 0
 646 0010 8091 0000 		lds r24,mouse_report+1
 647 0014 1F92      		push __zero_reg__
 648               	.LCFI0:
 649               		.cfi_def_cfa_offset 3
 650 0016 8F93      		push r24
 651               	.LCFI1:
 652               		.cfi_def_cfa_offset 4
 653 0018 80E0      		ldi r24,lo8(__c.2093)
 654 001a 90E0      		ldi r25,hi8(__c.2093)
 655 001c 9F93      		push r25
 656               	.LCFI2:
 657               		.cfi_def_cfa_offset 5
 658 001e 8F93      		push r24
 659               	.LCFI3:
 660               		.cfi_def_cfa_offset 6
 661 0020 0E94 0000 		call __xprintf
 662 0024 80E0      		ldi r24,lo8(__c.2095)
 663 0026 90E0      		ldi r25,hi8(__c.2095)
 664 0028 0E94 0000 		call xputs
 319:tmk_core/common/mousekey.c ****   print_decs(mouse_report.x); print(" ");
 665               		.loc 1 319 0
 666 002c 8091 0000 		lds r24,mouse_report+2
 667 0030 282F      		mov r18,r24
 668 0032 082E      		mov __tmp_reg__,r24
 669 0034 000C      		lsl r0
 670 0036 330B      		sbc r19,r19
 671 0038 3F93      		push r19
 672               	.LCFI4:
 673               		.cfi_def_cfa_offset 7
 674 003a 8F93      		push r24
 675               	.LCFI5:
 676               		.cfi_def_cfa_offset 8
 677 003c 80E0      		ldi r24,lo8(__c.2097)
 678 003e 90E0      		ldi r25,hi8(__c.2097)
 679 0040 9F93      		push r25
 680               	.LCFI6:
 681               		.cfi_def_cfa_offset 9
 682 0042 8F93      		push r24
 683               	.LCFI7:
 684               		.cfi_def_cfa_offset 10
 685 0044 0E94 0000 		call __xprintf
 686 0048 80E0      		ldi r24,lo8(__c.2099)
 687 004a 90E0      		ldi r25,hi8(__c.2099)
 688 004c 0E94 0000 		call xputs
 320:tmk_core/common/mousekey.c ****   print_decs(mouse_report.y); print(" ");
 689               		.loc 1 320 0
 690 0050 8091 0000 		lds r24,mouse_report+3
 691 0054 282F      		mov r18,r24
 692 0056 082E      		mov __tmp_reg__,r24
 693 0058 000C      		lsl r0
 694 005a 330B      		sbc r19,r19
 695 005c 3F93      		push r19
 696               	.LCFI8:
 697               		.cfi_def_cfa_offset 11
 698 005e 8F93      		push r24
 699               	.LCFI9:
 700               		.cfi_def_cfa_offset 12
 701 0060 80E0      		ldi r24,lo8(__c.2101)
 702 0062 90E0      		ldi r25,hi8(__c.2101)
 703 0064 9F93      		push r25
 704               	.LCFI10:
 705               		.cfi_def_cfa_offset 13
 706 0066 8F93      		push r24
 707               	.LCFI11:
 708               		.cfi_def_cfa_offset 14
 709 0068 0E94 0000 		call __xprintf
 710 006c 80E0      		ldi r24,lo8(__c.2103)
 711 006e 90E0      		ldi r25,hi8(__c.2103)
 712 0070 0E94 0000 		call xputs
 321:tmk_core/common/mousekey.c ****   print_decs(mouse_report.v); print(" ");
 713               		.loc 1 321 0
 714 0074 8091 0000 		lds r24,mouse_report+4
 715 0078 282F      		mov r18,r24
 716 007a 082E      		mov __tmp_reg__,r24
 717 007c 000C      		lsl r0
 718 007e 330B      		sbc r19,r19
 719 0080 3F93      		push r19
 720               	.LCFI12:
 721               		.cfi_def_cfa_offset 15
 722 0082 8F93      		push r24
 723               	.LCFI13:
 724               		.cfi_def_cfa_offset 16
 725 0084 80E0      		ldi r24,lo8(__c.2105)
 726 0086 90E0      		ldi r25,hi8(__c.2105)
 727 0088 9F93      		push r25
 728               	.LCFI14:
 729               		.cfi_def_cfa_offset 17
 730 008a 8F93      		push r24
 731               	.LCFI15:
 732               		.cfi_def_cfa_offset 18
 733 008c 0E94 0000 		call __xprintf
 734 0090 80E0      		ldi r24,lo8(__c.2107)
 735 0092 90E0      		ldi r25,hi8(__c.2107)
 736 0094 0E94 0000 		call xputs
 322:tmk_core/common/mousekey.c ****   print_decs(mouse_report.h); print("](");
 737               		.loc 1 322 0
 738 0098 8091 0000 		lds r24,mouse_report+5
 739 009c 282F      		mov r18,r24
 740 009e 082E      		mov __tmp_reg__,r24
 741 00a0 000C      		lsl r0
 742 00a2 330B      		sbc r19,r19
 743 00a4 3F93      		push r19
 744               	.LCFI16:
 745               		.cfi_def_cfa_offset 19
 746 00a6 8F93      		push r24
 747               	.LCFI17:
 748               		.cfi_def_cfa_offset 20
 749 00a8 80E0      		ldi r24,lo8(__c.2109)
 750 00aa 90E0      		ldi r25,hi8(__c.2109)
 751 00ac 9F93      		push r25
 752               	.LCFI18:
 753               		.cfi_def_cfa_offset 21
 754 00ae 8F93      		push r24
 755               	.LCFI19:
 756               		.cfi_def_cfa_offset 22
 757 00b0 0E94 0000 		call __xprintf
 758 00b4 80E0      		ldi r24,lo8(__c.2111)
 759 00b6 90E0      		ldi r25,hi8(__c.2111)
 760 00b8 0E94 0000 		call xputs
 323:tmk_core/common/mousekey.c ****   print_dec(mousekey_repeat); print("/");
 761               		.loc 1 323 0
 762 00bc 8091 0000 		lds r24,mousekey_repeat
 763 00c0 1F92      		push __zero_reg__
 764               	.LCFI20:
 765               		.cfi_def_cfa_offset 23
 766 00c2 8F93      		push r24
 767               	.LCFI21:
 768               		.cfi_def_cfa_offset 24
 769 00c4 80E0      		ldi r24,lo8(__c.2113)
 770 00c6 90E0      		ldi r25,hi8(__c.2113)
 771 00c8 9F93      		push r25
 772               	.LCFI22:
 773               		.cfi_def_cfa_offset 25
 774 00ca 8F93      		push r24
 775               	.LCFI23:
 776               		.cfi_def_cfa_offset 26
 777 00cc 0E94 0000 		call __xprintf
 778 00d0 80E0      		ldi r24,lo8(__c.2115)
 779 00d2 90E0      		ldi r25,hi8(__c.2115)
 780 00d4 0E94 0000 		call xputs
 324:tmk_core/common/mousekey.c ****   print_dec(mousekey_accel); print(")\n");
 781               		.loc 1 324 0
 782 00d8 8091 0000 		lds r24,mousekey_accel
 783 00dc 1F92      		push __zero_reg__
 784               	.LCFI24:
 785               		.cfi_def_cfa_offset 27
 786 00de 8F93      		push r24
 787               	.LCFI25:
 788               		.cfi_def_cfa_offset 28
 789 00e0 80E0      		ldi r24,lo8(__c.2117)
 790 00e2 90E0      		ldi r25,hi8(__c.2117)
 791 00e4 9F93      		push r25
 792               	.LCFI26:
 793               		.cfi_def_cfa_offset 29
 794 00e6 8F93      		push r24
 795               	.LCFI27:
 796               		.cfi_def_cfa_offset 30
 797 00e8 0E94 0000 		call __xprintf
 798 00ec 80E0      		ldi r24,lo8(__c.2119)
 799 00ee 90E0      		ldi r25,hi8(__c.2119)
 800 00f0 0E94 0000 		call xputs
 801 00f4 8DB7      		in r24,__SP_L__
 802 00f6 9EB7      		in r25,__SP_H__
 803 00f8 4C96      		adiw r24,28
 804 00fa 0FB6      		in __tmp_reg__,__SREG__
 805 00fc F894      		cli
 806 00fe 9EBF      		out __SP_H__,r25
 807 0100 0FBE      		out __SREG__,__tmp_reg__
 808 0102 8DBF      		out __SP_L__,r24
 809               	.LCFI28:
 810               		.cfi_def_cfa_offset 2
 811               	.L73:
 812               	.LBE24:
 813               	.LBE23:
 305:tmk_core/common/mousekey.c ****   last_timer = timer_read();
 814               		.loc 1 305 0
 815 0104 80E0      		ldi r24,lo8(mouse_report)
 816 0106 90E0      		ldi r25,hi8(mouse_report)
 817 0108 0E94 0000 		call host_mouse_send
 306:tmk_core/common/mousekey.c **** }
 818               		.loc 1 306 0
 819 010c 0E94 0000 		call timer_read
 820 0110 9093 0000 		sts last_timer+1,r25
 821 0114 8093 0000 		sts last_timer,r24
 822               	/* epilogue start */
 307:tmk_core/common/mousekey.c **** 
 823               		.loc 1 307 0
 824 0118 0895      		ret
 825               		.cfi_endproc
 826               	.LFE7:
 828               		.section	.text.mousekey_task,"ax",@progbits
 829               	.global	mousekey_task
 831               	mousekey_task:
 832               	.LFB4:
 102:tmk_core/common/mousekey.c ****   if (timer_elapsed(last_timer) < (mousekey_repeat ? mk_interval : mk_delay*10)) {
 833               		.loc 1 102 0
 834               		.cfi_startproc
 835 0000 1F93      		push r17
 836               	.LCFI29:
 837               		.cfi_def_cfa_offset 3
 838               		.cfi_offset 17, -2
 839 0002 CF93      		push r28
 840               	.LCFI30:
 841               		.cfi_def_cfa_offset 4
 842               		.cfi_offset 28, -3
 843 0004 DF93      		push r29
 844               	.LCFI31:
 845               		.cfi_def_cfa_offset 5
 846               		.cfi_offset 29, -4
 847               	/* prologue: function */
 848               	/* frame size = 0 */
 849               	/* stack size = 3 */
 850               	.L__stack_usage = 3
 103:tmk_core/common/mousekey.c ****     return;
 851               		.loc 1 103 0
 852 0006 8091 0000 		lds r24,last_timer
 853 000a 9091 0000 		lds r25,last_timer+1
 854 000e 0E94 0000 		call timer_elapsed
 855               	.LVL76:
 856 0012 AC01      		movw r20,r24
 857 0014 9091 0000 		lds r25,mousekey_repeat
 858 0018 2091 0000 		lds r18,mk_interval
 859 001c 30E0      		ldi r19,0
 860 001e 9111      		cpse r25,__zero_reg__
 861 0020 00C0      		rjmp .L79
 103:tmk_core/common/mousekey.c ****     return;
 862               		.loc 1 103 0 is_stmt 0 discriminator 2
 863 0022 2091 0000 		lds r18,mk_delay
 864 0026 8AE0      		ldi r24,lo8(10)
 865 0028 289F      		mul r18,r24
 866 002a 9001      		movw r18,r0
 867 002c 1124      		clr __zero_reg__
 868               	.L79:
 103:tmk_core/common/mousekey.c ****     return;
 869               		.loc 1 103 0 discriminator 4
 870 002e 4217      		cp r20,r18
 871 0030 5307      		cpc r21,r19
 872 0032 00F0      		brlo .L77
 106:tmk_core/common/mousekey.c ****     return;
 873               		.loc 1 106 0 is_stmt 1
 874 0034 8091 0000 		lds r24,mouse_report+2
 875 0038 1091 0000 		lds r17,mouse_report+3
 876 003c D091 0000 		lds r29,mouse_report+4
 877 0040 C091 0000 		lds r28,mouse_report+5
 878 0044 8111      		cpse r24,__zero_reg__
 879 0046 00C0      		rjmp .L81
 106:tmk_core/common/mousekey.c ****     return;
 880               		.loc 1 106 0 is_stmt 0 discriminator 1
 881 0048 1111      		cpse r17,__zero_reg__
 882 004a 00C0      		rjmp .L82
 106:tmk_core/common/mousekey.c ****     return;
 883               		.loc 1 106 0 discriminator 2
 884 004c D111      		cpse r29,__zero_reg__
 885 004e 00C0      		rjmp .L82
 106:tmk_core/common/mousekey.c ****     return;
 886               		.loc 1 106 0 discriminator 3
 887 0050 C111      		cpse r28,__zero_reg__
 888 0052 00C0      		rjmp .L82
 889               	.L77:
 890               	/* epilogue start */
 126:tmk_core/common/mousekey.c **** 
 891               		.loc 1 126 0 is_stmt 1
 892 0054 DF91      		pop r29
 893 0056 CF91      		pop r28
 894 0058 1F91      		pop r17
 895 005a 0895      		ret
 896               	.L81:
 109:tmk_core/common/mousekey.c ****   if (mouse_report.x > 0) mouse_report.x = move_unit();
 897               		.loc 1 109 0
 898 005c 9F3F      		cpi r25,lo8(-1)
 899 005e 01F0      		breq .L83
 900               	.L98:
 109:tmk_core/common/mousekey.c ****   if (mouse_report.x > 0) mouse_report.x = move_unit();
 901               		.loc 1 109 0 is_stmt 0 discriminator 1
 902 0060 9F5F      		subi r25,lo8(-(1))
 903 0062 9093 0000 		sts mousekey_repeat,r25
 904               	.L83:
 110:tmk_core/common/mousekey.c ****   if (mouse_report.x < 0) mouse_report.x = move_unit() * -1;
 905               		.loc 1 110 0 is_stmt 1
 906 0066 1816      		cp __zero_reg__,r24
 907 0068 04F4      		brge .L84
 110:tmk_core/common/mousekey.c ****   if (mouse_report.x < 0) mouse_report.x = move_unit() * -1;
 908               		.loc 1 110 0 is_stmt 0 discriminator 1
 909 006a 0E94 0000 		call move_unit
 910               	.LVL77:
 911 006e 8093 0000 		sts mouse_report+2,r24
 912               	.L84:
 111:tmk_core/common/mousekey.c ****   if (mouse_report.y > 0) mouse_report.y = move_unit();
 913               		.loc 1 111 0 is_stmt 1
 914 0072 8091 0000 		lds r24,mouse_report+2
 915 0076 87FF      		sbrs r24,7
 916 0078 00C0      		rjmp .L85
 111:tmk_core/common/mousekey.c ****   if (mouse_report.y > 0) mouse_report.y = move_unit();
 917               		.loc 1 111 0 is_stmt 0 discriminator 1
 918 007a 0E94 0000 		call move_unit
 919               	.LVL78:
 920 007e 8195      		neg r24
 921 0080 8093 0000 		sts mouse_report+2,r24
 922               	.L85:
 112:tmk_core/common/mousekey.c ****   if (mouse_report.y < 0) mouse_report.y = move_unit() * -1;
 923               		.loc 1 112 0 is_stmt 1
 924 0084 1116      		cp __zero_reg__,r17
 925 0086 04F4      		brge .L86
 112:tmk_core/common/mousekey.c ****   if (mouse_report.y < 0) mouse_report.y = move_unit() * -1;
 926               		.loc 1 112 0 is_stmt 0 discriminator 1
 927 0088 0E94 0000 		call move_unit
 928               	.LVL79:
 929 008c 8093 0000 		sts mouse_report+3,r24
 930               	.L86:
 113:tmk_core/common/mousekey.c ****   /* diagonal move [1/sqrt(2)] */
 931               		.loc 1 113 0 is_stmt 1
 932 0090 8091 0000 		lds r24,mouse_report+3
 933 0094 87FF      		sbrs r24,7
 934 0096 00C0      		rjmp .L87
 113:tmk_core/common/mousekey.c ****   /* diagonal move [1/sqrt(2)] */
 935               		.loc 1 113 0 is_stmt 0 discriminator 1
 936 0098 0E94 0000 		call move_unit
 937               	.LVL80:
 938 009c 8195      		neg r24
 939 009e 8093 0000 		sts mouse_report+3,r24
 940               	.L87:
 115:tmk_core/common/mousekey.c ****     mouse_report.x = times_inv_sqrt2(mouse_report.x);
 941               		.loc 1 115 0 is_stmt 1
 942 00a2 3091 0000 		lds r19,mouse_report+2
 943 00a6 3323      		tst r19
 944 00a8 01F0      		breq .L89
 115:tmk_core/common/mousekey.c ****     mouse_report.x = times_inv_sqrt2(mouse_report.x);
 945               		.loc 1 115 0 is_stmt 0 discriminator 1
 946 00aa 2091 0000 		lds r18,mouse_report+3
 947 00ae 2223      		tst r18
 948 00b0 01F0      		breq .L89
 949               	.LVL81:
 950               	.LBB25:
 951               	.LBB26:
  31:tmk_core/common/mousekey.c **** }
 952               		.loc 1 31 0 is_stmt 1
 953 00b2 45EB      		ldi r20,lo8(-75)
 954 00b4 3403      		mulsu r19,r20
 955 00b6 C001      		movw r24,r0
 956 00b8 1124      		clr __zero_reg__
 957               	.LVL82:
 958               	.LBE26:
 959               	.LBE25:
 117:tmk_core/common/mousekey.c ****     mouse_report.y = times_inv_sqrt2(mouse_report.y);
 960               		.loc 1 117 0
 961 00ba 9923      		tst r25
 962 00bc 01F0      		breq .L91
 116:tmk_core/common/mousekey.c ****     if (mouse_report.x == 0) { mouse_report.x = 1; }
 963               		.loc 1 116 0
 964 00be 9093 0000 		sts mouse_report+2,r25
 965               	.L92:
 966               	.LVL83:
 967               	.LBB27:
 968               	.LBB28:
  31:tmk_core/common/mousekey.c **** }
 969               		.loc 1 31 0
 970 00c2 45EB      		ldi r20,lo8(-75)
 971 00c4 2403      		mulsu r18,r20
 972 00c6 9001      		movw r18,r0
 973 00c8 1124      		clr __zero_reg__
 974               	.LVL84:
 975               	.LBE28:
 976               	.LBE27:
 119:tmk_core/common/mousekey.c ****   }
 977               		.loc 1 119 0
 978 00ca 3323      		tst r19
 979 00cc 01F0      		breq .L93
 118:tmk_core/common/mousekey.c ****     if (mouse_report.y == 0) { mouse_report.y = 1; }
 980               		.loc 1 118 0
 981 00ce 3093 0000 		sts mouse_report+3,r19
 982               	.L89:
 121:tmk_core/common/mousekey.c ****   if (mouse_report.v < 0) mouse_report.v = wheel_unit() * -1;
 983               		.loc 1 121 0
 984 00d2 1D16      		cp __zero_reg__,r29
 985 00d4 04F4      		brge .L94
 121:tmk_core/common/mousekey.c ****   if (mouse_report.v < 0) mouse_report.v = wheel_unit() * -1;
 986               		.loc 1 121 0 is_stmt 0 discriminator 1
 987 00d6 0E94 0000 		call wheel_unit
 988               	.LVL85:
 989 00da 8093 0000 		sts mouse_report+4,r24
 990               	.L94:
 122:tmk_core/common/mousekey.c ****   if (mouse_report.h > 0) mouse_report.h = wheel_unit();
 991               		.loc 1 122 0 is_stmt 1
 992 00de 8091 0000 		lds r24,mouse_report+4
 993 00e2 87FF      		sbrs r24,7
 994 00e4 00C0      		rjmp .L95
 122:tmk_core/common/mousekey.c ****   if (mouse_report.h > 0) mouse_report.h = wheel_unit();
 995               		.loc 1 122 0 is_stmt 0 discriminator 1
 996 00e6 0E94 0000 		call wheel_unit
 997               	.LVL86:
 998 00ea 8195      		neg r24
 999 00ec 8093 0000 		sts mouse_report+4,r24
 1000               	.L95:
 123:tmk_core/common/mousekey.c ****   if (mouse_report.h < 0) mouse_report.h = wheel_unit() * -1;
 1001               		.loc 1 123 0 is_stmt 1
 1002 00f0 1C16      		cp __zero_reg__,r28
 1003 00f2 04F4      		brge .L96
 123:tmk_core/common/mousekey.c ****   if (mouse_report.h < 0) mouse_report.h = wheel_unit() * -1;
 1004               		.loc 1 123 0 is_stmt 0 discriminator 1
 1005 00f4 0E94 0000 		call wheel_unit
 1006               	.LVL87:
 1007 00f8 8093 0000 		sts mouse_report+5,r24
 1008               	.L96:
 124:tmk_core/common/mousekey.c ****   mousekey_send();
 1009               		.loc 1 124 0 is_stmt 1
 1010 00fc 8091 0000 		lds r24,mouse_report+5
 1011 0100 87FF      		sbrs r24,7
 1012 0102 00C0      		rjmp .L97
 124:tmk_core/common/mousekey.c ****   mousekey_send();
 1013               		.loc 1 124 0 is_stmt 0 discriminator 1
 1014 0104 0E94 0000 		call wheel_unit
 1015               	.LVL88:
 1016 0108 8195      		neg r24
 1017 010a 8093 0000 		sts mouse_report+5,r24
 1018               	.L97:
 1019               	/* epilogue start */
 126:tmk_core/common/mousekey.c **** 
 1020               		.loc 1 126 0 is_stmt 1
 1021 010e DF91      		pop r29
 1022 0110 CF91      		pop r28
 1023 0112 1F91      		pop r17
 125:tmk_core/common/mousekey.c **** }
 1024               		.loc 1 125 0
 1025 0114 0C94 0000 		jmp mousekey_send
 1026               	.LVL89:
 1027               	.L91:
 117:tmk_core/common/mousekey.c ****     mouse_report.y = times_inv_sqrt2(mouse_report.y);
 1028               		.loc 1 117 0 discriminator 1
 1029 0118 81E0      		ldi r24,lo8(1)
 1030 011a 8093 0000 		sts mouse_report+2,r24
 1031 011e 00C0      		rjmp .L92
 1032               	.L93:
 119:tmk_core/common/mousekey.c ****   }
 1033               		.loc 1 119 0 discriminator 1
 1034 0120 81E0      		ldi r24,lo8(1)
 1035 0122 8093 0000 		sts mouse_report+3,r24
 1036 0126 00C0      		rjmp .L89
 1037               	.L82:
 109:tmk_core/common/mousekey.c ****   if (mouse_report.x > 0) mouse_report.x = move_unit();
 1038               		.loc 1 109 0
 1039 0128 9F3F      		cpi r25,lo8(-1)
 1040 012a 01F0      		breq .+2
 1041 012c 00C0      		rjmp .L98
 1042 012e 00C0      		rjmp .L85
 1043               		.cfi_endproc
 1044               	.LFE4:
 1046               		.section	.text.mousekey_clear,"ax",@progbits
 1047               	.global	mousekey_clear
 1049               	mousekey_clear:
 1050               	.LFB8:
 309:tmk_core/common/mousekey.c ****   mouse_report = (report_mouse_t){};
 1051               		.loc 1 309 0
 1052               		.cfi_startproc
 1053               	/* prologue: function */
 1054               	/* frame size = 0 */
 1055               	/* stack size = 0 */
 1056               	.L__stack_usage = 0
 310:tmk_core/common/mousekey.c ****   mousekey_repeat = 0;
 1057               		.loc 1 310 0
 1058 0000 86E0      		ldi r24,lo8(6)
 1059 0002 E0E0      		ldi r30,lo8(mouse_report)
 1060 0004 F0E0      		ldi r31,hi8(mouse_report)
 1061 0006 DF01      		movw r26,r30
 1062               		0:
 1063 0008 1D92      		st X+,__zero_reg__
 1064 000a 8A95      		dec r24
 1065 000c 01F4      		brne 0b
 311:tmk_core/common/mousekey.c ****   mousekey_accel = 0;
 1066               		.loc 1 311 0
 1067 000e 1092 0000 		sts mousekey_repeat,__zero_reg__
 312:tmk_core/common/mousekey.c **** }
 1068               		.loc 1 312 0
 1069 0012 1092 0000 		sts mousekey_accel,__zero_reg__
 1070               	/* epilogue start */
 313:tmk_core/common/mousekey.c **** 
 1071               		.loc 1 313 0
 1072 0016 0895      		ret
 1073               		.cfi_endproc
 1074               	.LFE8:
 1076               		.section	.progmem.data.__c.2119,"a",@progbits
 1079               	__c.2119:
 1080 0000 290A 00   		.string	")\n"
 1081               		.section	.progmem.data.__c.2117,"a",@progbits
 1084               	__c.2117:
 1085 0000 2575 00   		.string	"%u"
 1086               		.section	.progmem.data.__c.2115,"a",@progbits
 1089               	__c.2115:
 1090 0000 2F00      		.string	"/"
 1091               		.section	.progmem.data.__c.2113,"a",@progbits
 1094               	__c.2113:
 1095 0000 2575 00   		.string	"%u"
 1096               		.section	.progmem.data.__c.2111,"a",@progbits
 1099               	__c.2111:
 1100 0000 5D28 00   		.string	"]("
 1101               		.section	.progmem.data.__c.2109,"a",@progbits
 1104               	__c.2109:
 1105 0000 2564 00   		.string	"%d"
 1106               		.section	.progmem.data.__c.2107,"a",@progbits
 1109               	__c.2107:
 1110 0000 2000      		.string	" "
 1111               		.section	.progmem.data.__c.2105,"a",@progbits
 1114               	__c.2105:
 1115 0000 2564 00   		.string	"%d"
 1116               		.section	.progmem.data.__c.2103,"a",@progbits
 1119               	__c.2103:
 1120 0000 2000      		.string	" "
 1121               		.section	.progmem.data.__c.2101,"a",@progbits
 1124               	__c.2101:
 1125 0000 2564 00   		.string	"%d"
 1126               		.section	.progmem.data.__c.2099,"a",@progbits
 1129               	__c.2099:
 1130 0000 2000      		.string	" "
 1131               		.section	.progmem.data.__c.2097,"a",@progbits
 1134               	__c.2097:
 1135 0000 2564 00   		.string	"%d"
 1136               		.section	.progmem.data.__c.2095,"a",@progbits
 1139               	__c.2095:
 1140 0000 7C00      		.string	"|"
 1141               		.section	.progmem.data.__c.2093,"a",@progbits
 1144               	__c.2093:
 1145 0000 2530 3258 		.string	"%02X"
 1145      00
 1146               		.section	.progmem.data.__c.2091,"a",@progbits
 1149               	__c.2091:
 1150 0000 6D6F 7573 		.string	"mousekey [btn|x y v h](rep/acl): ["
 1150      656B 6579 
 1150      205B 6274 
 1150      6E7C 7820 
 1150      7920 7620 
 1151               	.global	mk_wheel_time_to_max
 1152               		.section	.data.mk_wheel_time_to_max,"aw",@progbits
 1155               	mk_wheel_time_to_max:
 1156 0000 28        		.byte	40
 1157               	.global	mk_wheel_max_speed
 1158               		.section	.data.mk_wheel_max_speed,"aw",@progbits
 1161               	mk_wheel_max_speed:
 1162 0000 08        		.byte	8
 1163               	.global	mk_time_to_max
 1164               		.section	.data.mk_time_to_max,"aw",@progbits
 1167               	mk_time_to_max:
 1168 0000 14        		.byte	20
 1169               	.global	mk_max_speed
 1170               		.section	.data.mk_max_speed,"aw",@progbits
 1173               	mk_max_speed:
 1174 0000 0A        		.byte	10
 1175               	.global	mk_interval
 1176               		.section	.data.mk_interval,"aw",@progbits
 1179               	mk_interval:
 1180 0000 32        		.byte	50
 1181               	.global	mk_delay
 1182               		.section	.data.mk_delay,"aw",@progbits
 1185               	mk_delay:
 1186 0000 1E        		.byte	30
 1187               		.section	.bss.last_timer,"aw",@nobits
 1190               	last_timer:
 1191 0000 0000      		.zero	2
 1192               		.section	.bss.mousekey_repeat,"aw",@nobits
 1195               	mousekey_repeat:
 1196 0000 00        		.zero	1
 1197               		.section	.bss.mousekey_accel,"aw",@nobits
 1200               	mousekey_accel:
 1201 0000 00        		.zero	1
 1202               		.section	.bss.mouse_report,"aw",@nobits
 1205               	mouse_report:
 1206 0000 0000 0000 		.zero	6
 1206      0000 
 1207               		.text
 1208               	.Letext0:
 1209               		.file 2 "/usr/local/Cellar/avr-gcc/7.2.0/avr/include/stdint.h"
 1210               		.file 3 "tmk_core/common/report.h"
 1211               		.file 4 "tmk_core/common/host.h"
 1212               		.file 5 "tmk_core/common/timer.h"
 1213               		.file 6 "tmk_core/common/avr/xprintf.h"
 1214               		.file 7 "tmk_core/common/debug.h"
 1215               		.file 8 "tmk_core/common/mousekey.h"
 1216               		.file 9 "tmk_core/common/keycode.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 mousekey.c
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:2      *ABS*:000000000000003e __SP_H__
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:3      *ABS*:000000000000003d __SP_L__
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:4      *ABS*:000000000000003f __SREG__
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:5      *ABS*:0000000000000000 __tmp_reg__
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:6      *ABS*:0000000000000001 __zero_reg__
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:12     .text.move_unit:0000000000000000 move_unit
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1200   .bss.mousekey_accel:0000000000000000 mousekey_accel
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1173   .data.mk_max_speed:0000000000000000 mk_max_speed
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1195   .bss.mousekey_repeat:0000000000000000 mousekey_repeat
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1167   .data.mk_time_to_max:0000000000000000 mk_time_to_max
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:125    .text.wheel_unit:0000000000000000 wheel_unit
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1161   .data.mk_wheel_max_speed:0000000000000000 mk_wheel_max_speed
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1155   .data.mk_wheel_time_to_max:0000000000000000 mk_wheel_time_to_max
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:221    .text.mousekey_on:0000000000000000 mousekey_on
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1205   .bss.mouse_report:0000000000000000 mouse_report
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:411    .text.mousekey_off:0000000000000000 mousekey_off
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:627    .text.mousekey_send:0000000000000000 mousekey_send
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1149   .progmem.data.__c.2091:0000000000000000 __c.2091
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1144   .progmem.data.__c.2093:0000000000000000 __c.2093
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1139   .progmem.data.__c.2095:0000000000000000 __c.2095
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1134   .progmem.data.__c.2097:0000000000000000 __c.2097
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1129   .progmem.data.__c.2099:0000000000000000 __c.2099
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1124   .progmem.data.__c.2101:0000000000000000 __c.2101
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1119   .progmem.data.__c.2103:0000000000000000 __c.2103
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1114   .progmem.data.__c.2105:0000000000000000 __c.2105
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1109   .progmem.data.__c.2107:0000000000000000 __c.2107
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1104   .progmem.data.__c.2109:0000000000000000 __c.2109
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1099   .progmem.data.__c.2111:0000000000000000 __c.2111
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1094   .progmem.data.__c.2113:0000000000000000 __c.2113
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1089   .progmem.data.__c.2115:0000000000000000 __c.2115
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1084   .progmem.data.__c.2117:0000000000000000 __c.2117
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1079   .progmem.data.__c.2119:0000000000000000 __c.2119
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1190   .bss.last_timer:0000000000000000 last_timer
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:831    .text.mousekey_task:0000000000000000 mousekey_task
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1179   .data.mk_interval:0000000000000000 mk_interval
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1185   .data.mk_delay:0000000000000000 mk_delay
/var/folders/3r/yll9b16919931vhbnddhf4vc0000gp/T//ccsH82gS.s:1049   .text.mousekey_clear:0000000000000000 mousekey_clear

UNDEFINED SYMBOLS
__divmodhi4
debug_config
xputs
__xprintf
host_mouse_send
timer_read
timer_elapsed
__do_copy_data
__do_clear_bss
